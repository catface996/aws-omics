# AWS Omics å¥¶ç‰›åŸºå› ç»„å­¦æ¼”ç¤ºé¡¹ç›®

æœ¬é¡¹ç›®å±•ç¤ºå¦‚ä½•ä½¿ç”¨AWS OmicsæœåŠ¡æ„å»ºå®Œæ•´çš„å¥¶ç‰›åŸºå› ç»„åˆ†ææµæ°´çº¿ï¼Œä»åŸå§‹æµ‹åºæ•°æ®åˆ°ç”Ÿç‰©å­¦è§£é‡Šçš„ç«¯åˆ°ç«¯è§£å†³æ–¹æ¡ˆã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

## 0-ä¸‹è½½æ•°æ®

https://trace.ncbi.nlm.nih.gov/Traces/?view=run_browser&page_size=10&acc=SRR16760538&display=metadata

### 1. ç”Ÿæˆå˜å¼‚åŸºå› ç»„ (æ¨è)
```bash
# æ¿€æ´»GPUç¯å¢ƒå¹¶è¿è¡Œ
source gpu_env/bin/activate
./scripts/run_mutated_fna_generation.sh
```

### 2. æŸ¥çœ‹é¡¹ç›®ç»“æ„
```bash
# æŸ¥çœ‹è¯¦ç»†çš„é¡¹ç›®ç»“æ„è¯´æ˜
cat PROJECT_STRUCTURE.md
```

## ğŸ“ é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```
aws-omics/
â”œâ”€â”€ scripts/           # æ‰€æœ‰è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ simulation/    # åŸºå› ç»„æ¨¡æ‹Ÿè„šæœ¬ â­
â”‚   â”œâ”€â”€ analysis/      # æ•°æ®åˆ†æè„šæœ¬
â”‚   â””â”€â”€ utils/         # å·¥å…·è„šæœ¬
â”œâ”€â”€ docs/              # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ user_guides/   # ç”¨æˆ·æŒ‡å— â­
â”‚   â”œâ”€â”€ technical/     # æŠ€æœ¯æ–‡æ¡£
â”‚   â””â”€â”€ archive/       # è¿‡æ—¶æ–‡æ¡£å­˜æ¡£
â”œâ”€â”€ workflows/         # WDLå·¥ä½œæµæ–‡ä»¶
â”œâ”€â”€ data/              # è¾“å…¥æ•°æ®
â”œâ”€â”€ outputs/           # è¾“å‡ºç»“æœ
â””â”€â”€ genomic_data/      # åŸå§‹åŸºå› ç»„æ•°æ® (Git LFS)
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. GPUåŠ é€Ÿå˜å¼‚åŸºå› ç»„ç”Ÿæˆ
- **è„šæœ¬**: `scripts/simulation/generate_mutated_fna_gpu.py`
- **åŠŸèƒ½**: åŸºäº3,154,016ä¸ªå˜å¼‚ç”Ÿæˆå®Œæ•´çš„å˜å¼‚åŸºå› ç»„
- **æ€§èƒ½**: å……åˆ†åˆ©ç”¨Apple M4 Max GPUï¼Œ~100,000å˜å¼‚/ç§’

### 2. æµ‹åºæ•°æ®æ¨¡æ‹Ÿ
- **è„šæœ¬**: `scripts/simulation/generate_sequencing_data_gpu.py`
- **åŠŸèƒ½**: ç”Ÿæˆé«˜è´¨é‡çš„é…å¯¹ç«¯æµ‹åºæ•°æ®
- **æ ¼å¼**: æ ‡å‡†FASTQæ ¼å¼ï¼Œæ”¯æŒä¸åŒè¦†ç›–æ·±åº¦

### 3. AWS Omicsé›†æˆ
- **å·¥ä½œæµ**: `workflows/wdl/`
- **åŠŸèƒ½**: å®Œæ•´çš„å˜å¼‚æ£€æµ‹å’Œåˆ†ææµæ°´çº¿

## ğŸ“Š æ•°æ®è¯´æ˜

### è¾“å…¥æ•°æ®
- **å‚è€ƒåŸºå› ç»„**: å¥¶ç‰› ARS-UCD1.2 ç‰ˆæœ¬ (~2.75GB)
- **å˜å¼‚æ•°æ®**: 3,154,016ä¸ªé«˜è´¨é‡å˜å¼‚ (230MB VCF)

### è¾“å‡ºæ•°æ®
- **å˜å¼‚åŸºå› ç»„**: å®Œæ•´çš„FNAæ ¼å¼åŸºå› ç»„æ–‡ä»¶
- **æµ‹åºæ•°æ®**: æ ‡å‡†FASTQæ ¼å¼æµ‹åºreads
- **åˆ†ææŠ¥å‘Š**: è¯¦ç»†çš„å¤„ç†ç»Ÿè®¡ä¿¡æ¯

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: macOS (æ”¯æŒMPS)
- **Python**: 3.8+ with PyTorch
- **GPU**: Apple Silicon (M1/M2/M4) æ¨è
- **å†…å­˜**: 16GB+ æ¨è
- **å­˜å‚¨**: 10GB+ å¯ç”¨ç©ºé—´

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿæµ‹è¯•
```bash
# æµ‹è¯•3ä¸ªæŸ“è‰²ä½“çš„å˜å¼‚åŸºå› ç»„ç”Ÿæˆ
source gpu_env/bin/activate
python scripts/simulation/generate_mutated_fna_gpu.py \
    --reference genomic_data/reference/GCF_002263795.1_ARS-UCD1.2_genomic.fna \
    --variants data/variants/consolidated_simulation_data/consolidated_variants.vcf \
    --output outputs/mutated_genome/test \
    --chromosomes NC_037328.1 NC_037329.1 NC_037330.1 \
    --max-workers 16
```

### å®Œæ•´è¿è¡Œ
```bash
# å¤„ç†æ‰€æœ‰30ä¸ªä¸»è¦æŸ“è‰²ä½“
./scripts/run_mutated_fna_generation.sh
```

## ğŸ“š æ–‡æ¡£

- **ç”¨æˆ·æŒ‡å—**: `docs/user_guides/` - æ“ä½œè¯´æ˜å’Œå¿«é€Ÿå¼€å§‹
- **æŠ€æœ¯æ–‡æ¡£**: `docs/technical/` - æ·±å…¥çš„æŠ€æœ¯ç»†èŠ‚
- **é¡¹ç›®ç»“æ„**: `PROJECT_STRUCTURE.md` - å®Œæ•´çš„é¡¹ç›®ç»“æ„è¯´æ˜

## âš¡ æ€§èƒ½ç‰¹æ€§

- **GPUåŠ é€Ÿ**: å……åˆ†åˆ©ç”¨Apple M4 Max GPU
- **å¤§è§„æ¨¡å¹¶è¡Œ**: 50,000å˜å¼‚/æ‰¹æ¬¡å¤„ç†
- **å†…å­˜ä¼˜åŒ–**: æ™ºèƒ½GPUå†…å­˜ç®¡ç†
- **é«˜ååé‡**: ~100,000å˜å¼‚/ç§’å¤„ç†é€Ÿåº¦

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªå¼€æºè®¸å¯è¯ã€‚æ•°æ®ä½¿ç”¨è¯·éµå¾ªNCBIçš„ä½¿ç”¨æ¡æ¬¾ã€‚

---

**æœ€åæ›´æ–°**: 2025å¹´8æœˆ8æ—¥  
**é¡¹ç›®çŠ¶æ€**: âœ… ç»“æ„åŒ–æ•´ç†å®Œæˆï¼ŒGPUä¼˜åŒ–å°±ç»ª
